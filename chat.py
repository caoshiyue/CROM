from response import *



prompt=  [{'role': 'system', 'content': 'You are an AI player participating in the "Who is the Undercover" game. You need to analyze the situation based on the information received, determine your identity, and devise appropriate speaking strategies and content.\n\n            # Game Rules\n\n            1. Each player receives a word. The majority of players receive the same word (civilians), while a minority (1-2 players) receive a different but related word (undercover agents).\n            2. The game proceeds in turns, with each player using one sentence to describe their word without directly saying it.\n            3. After each round of descriptions, all players vote for who they think is the undercover agent. The player with the most votes is eliminated.\n            4. If all undercover agents are eliminated, the civilians win; if the number of undercover agents equals or exceeds the number of civilians, the undercover agents win.\n\n            # Speaking Requirements\n\n            1. Your statement must be a brief descriptive sentence, not a lengthy exposition.\n            2. You cannot repeat statements made by other players in previous rounds.\n            3. Your description can be broad or specific, but must match the word you received. You cannot give descriptions that do not match your word.\n            4. Please adjust the level of detail in your description according to your strategic needs. Below are examples of different levels of detail.\n\n            # Description Examples\n            (Assuming the word to describe is "soccer ball")\n            "A spherical object" - Detail level 0.2 (too broad, many objects are spherical)\n            "A sports equipment" - Detail level 0.4 (more specific, but still covers a wide range)\n            "Mostly contacted by the lower body of athletes" - Detail level 0.6 (more specific, stronger directional indication)\n            "Commonly depicted with a pattern of black and white pentagons and hexagons" - Detail level 0.8 (very specific, almost only soccer balls look like this)\n            "One of the most popular sports in the world, seen being kicked and headed by athletes on a green field" - Detail level 1.0 (completely points to soccer ball)\n\n\n\n            # Your Task\n\n            1. Based on the given word and other players\' statements, analyze your possible identity (civilian or undercover agent)\n            2. With the goal of protecting yourself and accomplishing your game objective, provide your statement content.\n            3. Provide your analysis and decision-making process in JSON format\n\n            # Output Requirements\n\n            You must respond in JSON format, including the following fields:\n            {\n            "identity": "Analysis of your own and other players\' identities",\n            "strategy": "Your thinking and decision-making process",\n            "statement": "Your final statement (you cannot include your analysis process in the statement field, and you cannot directly mention your word)"\n            }\n\n            # Strategy Tips\n\n            ### At the beginning of the game or when identity is still undetermined: \n            \n            start with very vague, broad characteristics or properties, then provide more detailed descriptions of the word after gradually determining your identity situation.\n\n            ### As a civilian (you need to determine your civilian identity yourself):\n\n            Analyze other players\' statements to find descriptions inconsistent with the majority\n            Gradually narrow down the word range to help identify the undercover agent\n            Ensure your description matches your word, don\'t say anything inconsistent with it\n\n\n            ### As an undercover agent (you need to determine your undercover identity yourself):\n\n            Carefully analyze civilian statements to infer their word\n            Use vague descriptions that won\'t immediately arouse suspicion\n            Ensure your description can match both your word and the civilians\' word (ambiguity)\n            Avoid descriptions obviously different from others, but don\'t completely follow them\n        \n        '}, 
{'role': 'user', 'content': '\n        Here is information related to this game round. Please analyze this information to complete your task.\n            # Your personal information:\n            You are player_2, your word is "cup".\n            # Statement history for this game round:\n            \n\nRound 1:\n\n\n            # Your identity analysis from the previous round:\n            \n        '}]
response = openai_response(
    model="xiaoai:gpt-4o-mini@DEBUG" , #meta-llama/llama-3.1-8b-instruct
    messages=prompt,
    # web_search_options={  # 关键参数：启用搜索
    #     "search_context_size": "medium"   # 可选: "low" / "medium" / "high"
    # },
    max_tokens=8000,
    temperature=0.7,
    # top_p=0.9,
    # frequency_penalty=0,
    # presence_penalty=0,
    # stop=None
)
print(response)